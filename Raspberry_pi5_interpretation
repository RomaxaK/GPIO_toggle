def start_iperf(self):
    def run():
        global time_counter
        cmd = [IPERF3_PATH, "-c", IPERF3_SERVER, "-p", IPERF3_PORT, "-i", "1", "-t", "10"]
        try:
            print(f"[iperf3 started] {cmd}")
            process = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, text=True)
            output, _ = process.communicate()
            print("[iperf3 full output below]")
            print(output)  # Show every line from iperf3, even errors
        except Exception as e:
            print(f"[iperf3 error] {e}")
    threading.Thread(target=run, daemon=True).start()
